var contact=document.querySelector(".contact-button"),contactPopup=document.querySelector(".popup-contact"),contactClose=contactPopup.querySelector(".popup-close"),contactForm=contactPopup.querySelector(".popup-contact-form"),contactName=contactPopup.querySelector(".popup-contact-name"),contactEmail=contactPopup.querySelector(".popup-contact-email"),contactText=contactPopup.querySelector(".popup-contact-text"),mapLink=document.querySelector(".map-button"),mapPopup=document.querySelector(".popup-map"),mapClose=document.querySelector(".map-popup-close"),basketLinks=document.querySelectorAll(".button-add-to-basket"),basketPopup=document.querySelector(".popup-basket"),basketClose=document.querySelector(".popup-basket-close"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(a){isStorageSupport=!1}contact.addEventListener("click",function(a){a.preventDefault(),contactPopup.classList.add("popup-show"),storageName||storageEmail?(contactName.value=storageName,contactEmail.value=storageEmail,contactText.focus()):contactName.focus()}),contactClose.addEventListener("click",function(a){a.preventDefault(),contactPopup.classList.remove("popup-show"),contactPopup.classList.remove("popup-error")}),contactForm.addEventListener("submit",function(a){contactName.value&&contactEmail.value&&contactText.value?isStorageSupport&&(localStorage.setItem("name",contactName.value),localStorage.setItem("email",contactEmail.value),localStorage.setItem("text",contactText.value)):(a.preventDefault(),contactPopup.classList.remove("popup-error"),contactPopup.offsetWidth=contactPopup.offsetWidth,contactPopup.classList.add("popup-error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&contactPopup.classList.contains("popup-show")&&(a.preventDefault(),contactPopup.classList.remove("popup-show"),contactPopup.classList.remove("popup-error"))}),mapLink.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("popup-show")}),mapClose.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.remove("popup-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&mapPopup.classList.contains("popup-show")&&(a.preventDefault(),mapPopup.classList.remove("popup-show"))});